{"ast":null,"code":"import'./shelf.css';import{API,URL}from'../../config';import axios from'axios';import{useEffect,useRef,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BookCard=data=>{const book=data.data;return/*#__PURE__*/_jsx(\"article\",{className:\"item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bookCover\",children:/*#__PURE__*/_jsx(Link,{to:'/detail/'+book.bookId,children:/*#__PURE__*/_jsx(\"img\",{alt:\"\\uC774\\uBBF8\\uC9C0\",src:URL.CDN+book.imageUrl,width:\"100px\",height:\"150px\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bookDesc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bookTitle\",children:book.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"bookAuthor\",children:book.writer}),/*#__PURE__*/_jsx(\"div\",{className:\"bookAuthor\",children:book.company})]})]})});};const BookCards=async()=>{return await axios.get(API.GET_ALL_BOOKS);};export const BookShelf=()=>{const[loading,setLoading]=useState(false);const[BookItems,setBookItems]=useState([]);useEffect(()=>{BookCards().then(books=>{setBookItems(books.data);setLoading(true);}).catch(err=>{console.log(err);setLoading(false);});return()=>{};},[]);const mounted=useRef(false);useEffect(()=>{if(!mounted.current){mounted.current=true;}else{}});var cnt=0;if(loading===true){return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"shelfHeader\",children:\"\\uCD94\\uCC9C \\uB3C4\\uC11C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:BookItems.map(BookItem=>/*#__PURE__*/_jsx(BookCard,{data:BookItem},cnt++))})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h2\",{children:\" Loading...\"})});};","map":{"version":3,"names":["API","URL","axios","useEffect","useRef","useState","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookCard","data","book","className","children","to","bookId","alt","src","CDN","imageUrl","width","height","name","writer","company","BookCards","get","GET_ALL_BOOKS","BookShelf","loading","setLoading","BookItems","setBookItems","then","books","catch","err","console","log","mounted","current","cnt","map","BookItem"],"sources":["/Users/kakao_ent/Desktop/terraform-aws/client/src/Component/Bookshelf/Bookshelf.js"],"sourcesContent":["import './shelf.css'\nimport { API, URL } from '../../config';\nimport axios from 'axios';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst BookCard = (data) => {\n    const book = data.data\n    return (\n        <article className=\"item\"><div className=\"card\">\n            <div className=\"bookCover\">\n                <Link to={'/detail/' + book.bookId}>\n                    <img alt=\"이미지\" src={URL.CDN + book.imageUrl} width=\"100px\" height=\"150px\"/>\n                </Link>\n            </div>\n            <div className=\"bookDesc\">\n                <div className=\"bookTitle\">{book.name}</div><br/>\n                <div className=\"bookAuthor\">{book.writer}</div>\n                <div className=\"bookAuthor\">{book.company}</div>\n            </div>\n        </div></article>\n    );\n}\n\nconst BookCards = async () => {\n    return await axios.get(API.GET_ALL_BOOKS)\n}\n\nexport const BookShelf = () => {\n    const [loading, setLoading] = useState(false);\n    const [BookItems, setBookItems] = useState([]);\n\n    useEffect(() => {\n        BookCards().then((books) => {\n            setBookItems(books.data)\n            setLoading(true)  \n        }).catch((err) => {\n            console.log(err)\n            setLoading(false)\n        })\n        \n        return () => {\n        }\n    }, []);\n\n    const mounted = useRef(false);\n    useEffect(() => {\n        if(!mounted.current) {\n            mounted.current = true;\n        } else {\n            \n        }\n    })\n\n    var cnt = 0;\n    if(loading === true) {\n        return (\n            <> <h2 className='shelfHeader' >추천 도서</h2>\n            <div className=\"container\"> \n                {BookItems.map((BookItem) => <BookCard data={BookItem} key={cnt++}/>)}\n            </div></>\n        );\n    }\n    return (\n        <><h2> Loading...</h2>\n        </>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}