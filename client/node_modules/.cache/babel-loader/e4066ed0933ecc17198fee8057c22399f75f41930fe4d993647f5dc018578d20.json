{"ast":null,"code":"import'./search.css';import{API}from'../../config';import axios from'axios';import{useEffect,useState}from'react';import{Link,useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BookItem=(book,key)=>{book=book.book;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:book.bookId}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:'/detail/'+book.bookId,children:book.name})}),/*#__PURE__*/_jsx(\"td\",{children:book.company}),/*#__PURE__*/_jsx(\"td\",{children:book.publishDate}),/*#__PURE__*/_jsx(\"td\",{children:book.writer}),/*#__PURE__*/_jsx(\"td\",{children:book.status})]});};const FindBookItems=async(type,keyword)=>{if(type===\"도서명\"){return await axios.get(API.FIND_BOOK_BY_NAME+\"/\"+keyword);}if(type===\"카테고리\"){return await axios.get(API.FIND_BOOK_BY_CATEGORY+\"/\"+keyword);}throw Object.assign(new Error(),{code:404});};export const BookSearch=()=>{const[loading,setLoading]=useState(false);const[BookItems,setBookItems]=useState([]);const{type,keyword}=useParams();useEffect(()=>{FindBookItems(type,keyword).then(books=>{setBookItems(books.data);setLoading(true);}).catch(err=>{console.log(err);setLoading(false);});},[type,keyword]);var cnt=0;if(loading===true){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"colgroup\",{children:[/*#__PURE__*/_jsx(\"col\",{width:\"150\"}),/*#__PURE__*/_jsx(\"col\",{width:\"250\"}),/*#__PURE__*/_jsx(\"col\",{width:\"150\"}),/*#__PURE__*/_jsx(\"col\",{width:\"150\"}),/*#__PURE__*/_jsx(\"col\",{width:\"150\"}),/*#__PURE__*/_jsx(\"col\",{width:\"150\"})]}),/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uB3C4\\uC11C\\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB3C4\\uC11C\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uCD9C\\uD310\\uC0AC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uCD9C\\uD310\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC800\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:BookItems.map(book=>/*#__PURE__*/_jsx(BookItem,{book:book},cnt++))})]})})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h2\",{children:\" Loading...\"})});};","map":{"version":3,"names":["API","axios","useEffect","useState","Link","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookItem","book","key","children","bookId","to","name","company","publishDate","writer","status","FindBookItems","type","keyword","get","FIND_BOOK_BY_NAME","FIND_BOOK_BY_CATEGORY","Object","assign","Error","code","BookSearch","loading","setLoading","BookItems","setBookItems","then","books","data","catch","err","console","log","cnt","className","width","map"],"sources":["/Users/kakao_ent/Desktop/terraform-aws/client/src/Component/BookSearch/BookSearch.js"],"sourcesContent":["import './search.css'\nimport { API } from '../../config';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\n\nconst BookItem = (book, key) => {\n    book = book.book\n    return (\n        <tr>\n            <td>{book.bookId}</td>\n            <td>\n                <Link to={'/detail/' + book.bookId}>{book.name}</Link>\n            </td>\n            <td>{book.company}</td>\n            <td>{book.publishDate}</td>\n            <td>{book.writer}</td>\n            <td>{book.status}</td>\n        </tr>\n    );\n}\n\nconst FindBookItems = async (type, keyword) => {\n    if(type === \"도서명\"){\n        return await axios.get(API.FIND_BOOK_BY_NAME + \"/\" + keyword)\n    }\n    if(type === \"카테고리\"){\n        return await axios.get(API.FIND_BOOK_BY_CATEGORY + \"/\" + keyword)\n    }\n    throw Object.assign(new Error(), {code: 404})\n}\n\nexport const BookSearch = () => {\n    const [loading, setLoading] = useState(false);\n    const [BookItems, setBookItems] = useState([]);\n    const { type, keyword } = useParams();\n\n    useEffect(() => {\n        FindBookItems(type, keyword).then((books) => {\n            setBookItems(books.data)\n            setLoading(true)\n        }).catch((err) => {\n            console.log(err)\n            setLoading(false)\n        })\n    }, [type, keyword]);\n\n    var cnt = 0\n    if(loading === true) {\n        return (\n            <>\n            <h2>검색 결과</h2>\n            <div className=\"container\">\n                <table>\n                    <colgroup>\n                        <col width=\"150\"/>\n                        <col width=\"250\"/>\n                        <col width=\"150\"/>\n                        <col width=\"150\"/>\n                        <col width=\"150\"/>\n                        <col width=\"150\"/>\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th>도서코드</th>\n                            <th>도서명</th>\n                            <th>출판사</th>\n                            <th>출판일</th>\n                            <th>저자</th>\n                            <th>상태</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {BookItems.map(book => <BookItem book={book} key={cnt++} />)}\n                    </tbody>\n                </table>\n            </div>\n            </>\n        );\n    }\n    return (\n        <><h2> Loading...</h2>\n        </>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}